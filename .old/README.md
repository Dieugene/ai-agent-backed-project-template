# 00_dev_template — Шаблон структуры проекта

## Назначение

Это **универсальный шаблон структуры** для проектов с участием AI агентов.

Шаблон консолидирует опыт организации проектов и взаимодействия агентов (архитектор, разработчик) для обеспечения:
- Четкого разделения ролей и ответственности
- Структурированного workflow работы над задачами
- Единообразного размещения файлов и артефактов
- Прозрачной коммуникации между агентами

---

## Как использовать этот шаблон

### 1. Скопировать шаблон для нового проекта

```bash
# Скопировать структуру
cp -r 00_dev_template/ ../my_new_project/

# Перейти в новый проект
cd ../my_new_project/

# Переименовать/удалить этот README
mv README.md TEMPLATE_README.md
```

### 2. Настроить под свой проект

#### A. Обновить `00_docs/AI_README.md`
Заменить все плейсхолдеры:
- `[НАЗВАНИЕ ПРОЕКТА]` → реальное название
- `[КРАТКОЕ ОПИСАНИЕ ПРОЕКТА]` → 2-3 предложения о проекте
- `[НАЗВАНИЕ КОРНЕВОЙ ПАПКИ]` → имя корневой папки проекта
- Заполнить раздел "Технологический стек"
- Заполнить раздел "Переменные окружения"
- Обновить раздел "Запуск проекта"

#### B. Настроить `00_docs/policies.md`
- Уточнить структуру папки `04_data/` под специфику проекта
- Добавить специфичные конвенции (если есть)
- Обновить примеры кода под используемый язык

#### C. Обновить `01_agents/roles.md`
- Добавить/удалить роли под конкретный проект
- Уточнить workflow взаимодействия
- Добавить специфичные правила эскалации

#### D. Удалить шаблонную задачу
```bash
# Удалить пример задачи (или оставить как референс)
rm -rf 02_tasks/001_template_task/
```

#### E. Удалить пример модуля
```bash
# Удалить пример модуля (или оставить как референс)
rm -rf 03_src/001_example_module/
```

### 3. Инициализировать окружение

#### Python проект
```bash
# Создать виртуальное окружение
python -m venv .venv

# Активировать
source .venv/bin/activate  # Linux/Mac
.venv\Scripts\activate     # Windows

# Создать requirements.txt
touch requirements.txt

# Создать .env
touch .env
echo "# API Keys" > .env
echo "API_KEY_1=your_key_here" >> .env

# Добавить в .gitignore
echo ".venv/" >> .gitignore
echo ".env" >> .gitignore
echo "04_data/" >> .gitignore
echo "05_logs/" >> .gitignore
```

#### Node.js проект
```bash
# Инициализировать package.json
npm init -y

# Создать .env
touch .env
echo "# API Keys" > .env

# Добавить в .gitignore
echo "node_modules/" >> .gitignore
echo ".env" >> .gitignore
echo "04_data/" >> .gitignore
echo "05_logs/" >> .gitignore
```

### 4. Инициализировать Git

```bash
# Инициализировать репозиторий
git init

# Добавить .gitignore
cat > .gitignore << EOF
# Environment
.venv/
venv/
node_modules/
.env
.env.local

# Data and logs
04_data/
05_logs/

# Python
__pycache__/
*.pyc
*.pyo

# IDE
.vscode/
.idea/
*.swp

# OS
.DS_Store
Thumbs.db
EOF

# Первый коммит
git add .
git commit -m "Initial project structure from template"
```

### 5. Создать первую задачу

```bash
# Создать папку первой задачи
mkdir -p 02_tasks/001_setup_project
mkdir -p 02_tasks/001_setup_project/artifacts

# Скопировать шаблон (если оставили 001_template_task)
cp 02_tasks/001_template_task/iteration_001.md \
   02_tasks/001_setup_project/iteration_001.md

# Заполнить постановку задачи
# vim 02_tasks/001_setup_project/iteration_001.md
```

---

## Структура шаблона

```
00_dev_template/
│
├── 00_docs/                              # Документация проекта
│   ├── AI_README.md                      # ⭐ Центральный документ (ОБЯЗАТЕЛЕН)
│   ├── policies.md                       # ⭐ Политики работы (ОБЯЗАТЕЛЕН)
│   └── README.md
│
├── 00_initial_docs/                      # Исходные требования (опционально)
│   └── README.md
│
├── 01_agents/                            # Роли агентов
│   ├── roles.md                          # ⭐ Описание ролей (ОБЯЗАТЕЛЕН)
│   └── README.md
│
├── 02_tasks/                             # Итерации/задачи
│   ├── 001_template_task/                # Шаблон задачи (удалить или оставить)
│   │   ├── iteration_001.md              # ⭐ Шаблон итерации
│   │   └── artifacts/
│   └── README.md
│
├── 03_src/                               # Исходный код
│   ├── 001_example_module/               # Пример модуля (удалить или оставить)
│   │   └── README.md
│   └── README.md
│
├── 04_data/                              # Рабочие данные
│   └── README.md
│
├── 05_logs/                              # Логи запусков
│   └── README.md
│
└── README.md                             # Этот файл (инструкция)
```

### Обязательные файлы (⭐)

Эти файлы **ОБЯЗАТЕЛЬНО** должны быть в каждом проекте:

1. **`00_docs/AI_README.md`** — стартовая точка для агентов
2. **`00_docs/policies.md`** — политики работы с проектом
3. **`01_agents/roles.md`** — описание ролей и workflow

### Опциональные файлы

Можно удалить, если не нужны:
- `00_initial_docs/` — если нет исходных требований
- `02_tasks/001_template_task/` — после создания реальных задач
- `03_src/001_example_module/` — после создания реальных модулей

---

## Ключевые принципы шаблона

### 1. Разделение ролей
- **Архитектор** — НЕ пишет код, только постановка и приемка
- **Разработчик** — реализует код, ведет отчеты

### 2. Структура промптов
Промпт НЕ дублирует детали задачи:
```
Ты выступаешь в роли [роль] (см. 01_agents/roles.md).

Перед началом прочитай:
- 01_agents/roles.md
- 00_docs/AI_README.md
- 00_docs/policies.md
- 02_tasks/NNN_task_name/iteration_NNN.md    # ПОСТАНОВКА здесь

Задача: Выполнить задачу, описанную в iteration_NNN.md

После выполнения сообщи постановщику.
```

### 3. Workflow задач
1. Архитектор создает `02_tasks/NNN_task_name/iteration_NNN.md`
2. Архитектор обновляет статус в `AI_README.md` → "в работе"
3. Архитектор передает разработчику короткий промпт
4. Разработчик реализует, добавляет "Отчёт разработчика"
5. Архитектор проверяет, обновляет статус → "выполнена"

### 4. Один источник правды
- Каждый тип файла имеет свое место
- Нет дублирования информации
- При неопределенности — эскалация архитектору

### 5. Нумерация
- Папки проекта: `00_`, `01_`, `02_` и т.д.
- Задачи и модули: `001_`, `002_`, `003_` (трехзначная)
- Логи: `run_YYYYMMDD_HHMMSS`

---

## Частые вопросы (FAQ)

### Нужно ли использовать все папки?
Нет. Используйте только те, которые нужны вашему проекту. Например:
- Если нет исходных требований → удалить `00_initial_docs/`
- Если проект без данных → удалить `04_data/`

### Можно ли изменить структуру?
Да, но:
1. Обязательно обновите `00_docs/policies.md`
2. Обновите таблицу в `AI_README.md`
3. Согласуйте изменения с командой

### Как добавить новую роль агента?
1. Добавить описание в `01_agents/roles.md`
2. Добавить стартовый промпт в `00_docs/AI_README.md`
3. Обновить workflow взаимодействия

### Где хранить большие файлы данных?
- Использовать отдельное хранилище (S3, Google Cloud Storage)
- Добавить ссылки в `04_data/README.md`
- Не коммитить в Git

### Как работать с несколькими проектами?
Каждый проект — отдельная копия шаблона:
```
projects/
├── project_a/
│   ├── 00_docs/
│   ├── 01_agents/
│   └── ...
├── project_b/
│   ├── 00_docs/
│   ├── 01_agents/
│   └── ...
└── 00_dev_template/  # Сам шаблон
```

---

## Дополнительные ресурсы

### Примеры реализованных проектов
- `../03_auditor_reader/` — пример проекта обработки PDF
- `../04_a_reports_ETL/` — пример ETL проекта

### Полезные файлы для изучения
- `../03_auditor_reader/00_docs/AI_README.md` — пример заполненного AI_README
- `../03_auditor_reader/02_tasks/iteration_001.md` — пример реальной итерации
- `../04_a_reports_ETL/01_agents/roles.md` — пример ролей

---

## Обновление шаблона

При накоплении опыта и новых практик:

1. Обновить шаблон в `00_dev_template/`
2. Задокументировать изменения
3. Опционально: обновить существующие проекты

---

## Лицензия и использование

Этот шаблон свободен для использования в ваших проектах.

**Рекомендации:**
- Сохраняйте структуру для консистентности между проектами
- Адаптируйте под специфику проекта
- Делитесь улучшениями и находками

---

## Контрибьюции

Если вы нашли способы улучшить шаблон:
1. Документируйте изменение
2. Обновляйте `00_dev_template/`
3. Делитесь с командой

---

**Готовы начать?** Следуйте инструкциям раздела "Как использовать этот шаблон" выше.

**Вопросы?** Обращайтесь к `00_docs/policies.md` и примерам проектов.
